

#### 简介：
使用原型实例指定要创建对象的类型，通过复制这个原型来创建新对象。

- 生活中的例子：
  pattern工厂研制出一种新糖果、投入生产线（PropetyType）设置好参数（id,recipe）能够立马批量生产(Clone)。

#### 结构

![结构](D:\Pattern\DesignPattern\DesignPattern\CreationPattern\ProtoType\结构.png)

**原型模式的优点**
　　● 性能优良
　　原型模式是在内存二进制流的拷贝， 要比直接new一个对象性能好很多， 特别是要在一个循环体内产生大量的对象或者构造函数耗时很久时， 原型模式可以更好地体现其优点。

　　● 逃避构造函数的约束
　　这既是它的优点也是缺点， 直接在内存中拷贝， 构造函数是不会执行的 。 优点就是减少了约束， 缺点也是减少了约束， 需要大家在实际应用时考虑。

**原型模式的使用场景**
　　● 资源优化场景
　　类初始化需要消化非常多的资源， 这个资源包括数据、 硬件资源等。

　　● 性能和安全要求的场景
　　通过new产生一个对象需要非常繁琐的数据准备或访问权限， 则可以使用原型模式。

　　● 一个对象多个修改者的场景
　　一个对象需要提供给其他对象访问， 而且各个调用者可能都需要修改其值时， 可以考虑使用原型模式拷贝多个对象供调用者使用。

**几种构建模式区别**
　　Prototype模式和Builder模式、AbstractFactory模式都是通过一个类（对象实例）来专门负责对象的创建工作（工厂对象），它们之间的区别是：Builder模式重在复杂对象的一步步创建（并不直接返回对象），AbstractFactory模式重在产生多个相互依赖类的对象，而Prototype模式重在从自身复制自己创建新类。


**这里涉及一个概念就是深拷贝和浅拷贝**
- 什么是深拷贝、浅拷贝
简单来说，浅拷贝就比如像引用类型，而深拷贝就比如值类型。
浅拷贝是指源对象与拷贝对象共用一份实体，仅仅是引用的变量不同（名称不同）。对其中任何一个对象的改动都会影响另外一个对象。
深拷贝是指源对象与拷贝对象互相独立，其中任何一个对象的改动都不会对另外一个对象造成影响。

- 两者有什么区别和联系
浅拷贝　将对象中的所有字段复制到新的对象（副本）中。其中，值类型字段的值被复制到副本中后，在副本中的修改不会影响到源对象对应的值。而引用类型的字段被复制到副本中的是引用类型的引用，而不是引用的对象，在副本中对引用类型的字段值做修改会影响到源对象本身。

深拷贝　同样，将对象中的所有字段复制到新的对象中。不过，无论是对象的值类型字段，还是引用类型字段，都会被重新创建并赋值，对于副本的修改，不会影响到源对象本身。
